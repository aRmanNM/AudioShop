<div class="d-flex flex-column m-3">
  <label style="font-size: small">
    این اطلاعات جهت تایید هویت و انجام تصفیه حساب های شما مورد استفاده قرار میگیرد
  </label>
  <label *ngIf="credentialAccepted" style="font-size: small; color: red">
    مدارک هویتی شما قبلا تایید شده و دیگر امکان ویرایش ندارد
  </label>
</div>

<mat-progress-bar color="accent" mode="indeterminate" *ngIf="spinnerService.visibility | async"></mat-progress-bar>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <form [formGroup]="credentialForm" class="d-flex flex-column align-items-start m-4">
        <h4 class="mb-3">اطلاعات هویتی</h4>
        <mat-form-field color="accent" hidden>
          <mat-label>شناسه</mat-label>
          <input matInput type="text" formControlName="id"/>
        </mat-form-field>
        <mat-form-field appearance="fill" hidden>
          <mat-label>شناسه کاربر</mat-label>
          <input matInput type="text" formControlName="userId"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>شماره ملی</mat-label>
          <input matInput type="text" formControlName="idCardNumber"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>شماره حساب بانکی</mat-label>
          <input matInput type="text" formControlName="bankAccountNumber"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>شماره شبا</mat-label>
          <input matInput type="text" formControlName="bankAccountShebaNumber"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>شماره کارت بانکی</mat-label>
          <input matInput type="text" formControlName="bankCardNumber"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>نام صاحب حساب</mat-label>
          <input matInput type="text" formControlName="bankCardName"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>نام بانک</mat-label>
          <input matInput type="text" formControlName="bankName"/>
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>شماره تماس اضطراری</mat-label>
          <input matInput type="text" formControlName="phone"/>
        </mat-form-field>

        <button
          mat-raised-button
          color="primary"
          [disabled]="!credentialForm.valid || this.credentialAccepted"
          (click)="createOrEditCredential()">
          <span>ثبت اطلاعات</span>
        </button>

      </form>
    </div>
    <div class="col-sm">
      <div class="d-flex flex-column align-items-start m-4">
        <h4 class="mb-3">تصویر کارت ملی</h4>
        <img class="img-thumbnail" src="{{ idCardPhotoUrl }}">
        <input type="file" class="form-control-file mt-2" value="انتخاب فایل" #fileInputId>
        <button [disabled]="credentialForm.value.id == 0 || this.credentialAccepted" class="mt-2" mat-raised-button
                color="primary" type="submit"
                (click)="uploadPhoto('idcard')">اپلود
        </button>
      </div>
    </div>
    <div class="col-sm">
      <div class="d-flex flex-column align-items-start m-4">
        <h4 class="mb-3">تصویر کارت بانکی</h4>
        <img class="img-thumbnail" src="{{ bankCardPhotoUrl }}">
        <input type="file" class="form-control-file mt-2" value="انتخاب فایل" #fileInputBank>
        <button [disabled]="credentialForm.value.id == 0 || this.credentialAccepted" class="mt-2" mat-raised-button
                color="primary" type="submit"
                (click)="uploadPhoto('bankcard')">اپلود
        </button>
      </div>
    </div>
  </div>
</div>
